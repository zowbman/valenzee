+function(t){"use strict";function e(t,s){i.createCanvas(this,e,t,s)}var i=t.util,s=i.limitRandom,o=i.randomColor,r=i.scaleValue,a=Math.random,n=Math.sin,f=2*Math.PI,l="undefined",h=Array.isArray;e.defaultConfig={num:3,fillColor:[],lineColor:[],lineWidth:[],offsetLeft:[],offsetTop:[],crestHeight:[],rippleNum:[],speed:[],fill:!1,stroke:!0};var c=e.prototype={version:"1.0.0",init:function(){this.set.num>0&&(this.rippleLength=[],this.attrNormalize(),this.createDots(),this.draw(),this.resize())},attrNormalize:function(){["fillColor","lineColor","lineWidth","offsetLeft","offsetTop","crestHeight","rippleNum","speed","fill","stroke"].forEach(function(t){this.attrProcessor(t)}.bind(this))},attrProcessor:function(t){var e=this.set.num,i=this.set[t],s=i,o="offsetLeft"===t?this.cw:this.ch;for(h(i)||(s=this.set[t]=[]);e--;){var r=h(i)?i[e]:i;s[e]=typeof r===l?this.generateAttrVal(t):this.scaleValue(t,r,o),"rippleNum"===t&&(this.rippleLength[e]=this.cw/s[e])}},scaleValue:function(t,e,i){return"offsetTop"===t||"offsetLeft"===t||"crestHeight"===t?r(e,i):e},generateAttrVal:function(t){var e=this.cw,i=this.ch;switch(t){case"lineColor":case"fillColor":t=o();break;case"lineWidth":t=s(2,.2);break;case"offsetLeft":t=a()*e;break;case"offsetTop":case"crestHeight":t=a()*i;break;case"rippleNum":t=s(e/2,1);break;case"speed":t=s(.4,.1);break;case"fill":t=!1;break;case"stroke":t=!0}return t},setOffsetTop:function(t){this.set.num>0&&(!h(t)&&t>0&&t<1&&(t*=this.ch),this.set.offsetTop.forEach(function(e,i,s){s[i]=h(t)?t[i]||e:t}))},createDots:function(){for(var t=this.dots=[],e=this.rippleLength,i=this.cw,s=this.set.num;s--;){for(var o=[],r=f/e[s],a=0;a<i;a++)o.push({x:a,y:a*r});t[s]=o}},draw:function(){var t=this.set;if(!(t.num<=0)){var e=this.cxt,i=this.cw,s=this.ch,o=this.paused;e.clearRect(0,0,i,s),e.globalAlpha=t.opacity,this.dots.forEach(function(r,a){var f=t.crestHeight[a],l=t.offsetLeft[a],h=t.offsetTop[a],c=t.speed[a];e.save(),e.beginPath(),r.forEach(function(t,i){e[i?"lineTo":"moveTo"](t.x,f*n(t.y+l)+h),!o&&(t.y-=c)}),t.fill[a]&&(e.lineTo(i,s),e.lineTo(0,s),e.closePath(),e.fillStyle=t.fillColor[a],e.fill()),t.stroke[a]&&(e.lineWidth=t.lineWidth[a],e.strokeStyle=t.lineColor[a],e.stroke()),e.restore()}),this.requestAnimationFrame()}}};t.extend(c),i.modifyPrototype(c,"resize",function(t,e){this.set.num>0&&this.dots.forEach(function(i){i.forEach(function(i){i.x*=t,i.y*=e})})}),t.wave=c.constructor=e}(Particleground);